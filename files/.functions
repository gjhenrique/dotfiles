function gi() { curl https://www.gitignore.io/api/$@ ;}

function gofwd() {
  git checkout `git rev-list --topo-order HEAD..master | tail -1`
}

function trc () {
  transmission-remote-cli "$(xco)"
}

# If tmux is enabled, then startx in invoked, it gives the error xf86OpenConsole: VT_ACTIVATE failed: Operation not permitted
# Therefore, it only launches tmux when there is a X window
if [ "$TERM" != "linux" ]
then
  # Start shell with tmux
  # If not running interactively, do not do anything
  [[ $- != *i* ]] && return
  [[ -z "$TMUX" ]] && exec tmux -2
fi

if ! pgrep -u "$USER" ssh-agent > /dev/null; then
    ssh-agent > ~/.ssh-agent-thing
fi
if [[ "$SSH_AGENT_PID" == "" ]]; then
    eval "$(<~/.ssh-agent-thing)" > /dev/null
fi

if [[ -z $DISPLAY ]] && [[ $(tty) = /dev/tty1 ]]; then exec startx; fi

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
